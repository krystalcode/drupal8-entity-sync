<?php

/**
 * @file
 * Defines hooks and common functionality for the Entity Synchronization module.
 */

/**
 * Implements hook_toolbar_alter().
 */
function entity_sync_toolbar_alter(&$items) {
  $items['administration']['#attached']['library'][] = 'entity_sync/toolbar';
}

function entity_sync_entity_update(Drupal\Core\Entity\EntityInterface $entity) {
  // ...
  \Drupal::logger('app_user')->notice('Updated a user');
  $queue = \Drupal::queue('entity_sync_export_user');
  $queue->createQueue();
  $queue->createItem([
    'sync_id' => 'user',
    'context' => $entity,
  ]);
}
